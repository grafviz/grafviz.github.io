<!DOCTYPE html>
<meta charset="utf-8">

<!-- Load d3.js -->
<script src="https://d3js.org/d3.v4.js"></script>

<!-- Create a div where the circle will take place -->
<div id="dataviz_basicZoom"></div>

<script>



let counter=1
const body = d3.select("body");


var _zoom = d3.zoom()
  .scaleExtent([1, 1000])
      .on("zoom", function() {
    zoomSvg.attr("transform", d3.event.transform);
    prev=d3.event.transform
    console.log(prev)
  });

const canvas = body.append("svg").attr("id", "canvas")
    .style("border", "10px solid #ccc")
    .attr("width", 300)
    .attr("height", 300).call(_zoom)//.call(d3.zoom().on("zoom", zoomed))





var zoomDecoRect=canvas.append('rect').attr('width',300).attr("height",  300).attr('opacity',.1)



// append the svg object to the body of the page
var zoomSvg = canvas
  //.append("svg")
    //.append("rect").attr('width',200).attr("height",  200).attr('opacity',.1)
    //.call(d3.zoom().on("zoom", zoomed))
  .append("g")



zoomSvg
  .append("circle")
    .attr("cx", 100)
    .attr("cy", 100)
    .attr("r", 40)
    .style("fill", "#68b2a1")
    .on("click", function(d) {
                              alert('clic')

                              var t = d3.zoomIdentity.translate(prev.x,prev.y).scale(prev.k*1.1);
                              canvas.transition().duration(650).call(_zoom.transform, t);
                            })


    </script >
