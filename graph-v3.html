<!DOCTYPE html>
<meta charset = "utf-8">
<html>
<head>

  <title>Graph exploration</title>

  <!--D3v3, textbox, hierarchy-->
  <script src = "https://d3js.org/d3.v3.min.js"></script>
  <script src="https://d3plus.org/js/d3plus.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

    <script src="https://unpkg.com/lunr/lunr.js"></script>



  <style type = "text/css">

  body {
    font: 10px sans-serif;
  }

  .boxname{
    fill: white;  
  }

  .type text{
  	font-family:American Typewriter, serif;
  } 
    



  </style>
</head>
<body>
<p><strong>1 click</strong>: Info</p>
<p><strong>Dbl click</strong>: Expand</p>
<p><strong>Zoom in/out</strong>: Scroll up/down</p>

<form name="myform" onSubmit="return handleClick()" style="display:block">
    <input type="text" id="myVal" placeholder="Text">
    <input name="Submit"  type="submit" value="Search in graph (Beta)" >
</form>

<h2 id="processing"><tspan id="dbname"></tspan>, please wait...</h2>

<script type="text/javascript">
    const queryString = window.location.search;
    const urlParams = new URLSearchParams(queryString);
    let filename = urlParams.get('filename')
    let load_from_WD = urlParams.get('load_from_WD')=='true'? true:false
    let wdjs = urlParams.get('wdjs')=='true'? true:false
    let wdKey=urlParams.get('wdKey')
    if (filename == null && !load_from_WD && !wdjs){
        filename='political/Philippe-II-2018.json'
    }
    document.getElementById("dbname").innerHTML=load_from_WD? 'Querying DB' : 'Processing DB '+filename;
    console.log(queryString,load_from_WD,wdjs,filename)
</script>

  <div class="chart" id="mainchart"></div>



<script type="text/javascript" src="grafviz.js">
 
</script>
</body>
</html>
