<!DOCTYPE html>
<html>
<body>

	<a href="graph-v3.html">Gouvernement Philippe II</a>
	<a href="graph-v2.html">v2</a>

<form action="/search/" method="GET">
        <input required type="search" name="q" />
        <button type="submit">Search</button>
    </form>


<ul id="search-results"></ul> 
  <script src="https://unpkg.com/lunr/lunr.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>


<script type="text/javascript" >





    $.getJSON( "Philippe-II.json", function( data ) {
     var idx = lunr(function () {
       this.ref('id')
       this.field('lastName', { boost: 10 })
       this.field('firstName')
       this.field('params')
       data.forEach(function (entry) {
         entry.params=JSON.stringify(entry.params)
         this.add(entry)
       }, this)
     })
     results=idx.search("macron~2")
        console.log(results)
     var resultdiv = $('#search-results');
       for (var item in results) {
         var ref = results[item].ref;
           var searchitem = '<li class="result">'+ref+'</li>';
           resultdiv.append(searchitem);
     }
     })





</script>
</body>
</html>
